(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,,,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a(10),n=Object(i.b)({name:"cart",initialState:{items:[],totalQuantity:0,totalPrice:0,isSubmitted:!1},reducers:{replaceCart:function(e,t){e.isSubmitted?(e.items=[],e.totalQuantity=0,e.totalPrice=0):(e.items=t.payload.items||[],e.totalQuantity=t.payload.totalQuantity,e.totalPrice=t.payload.totalPrice,e.isSubmitted=!1),0===e.items.length&&(e.totalPrice=0)},addItemToCart:function(e,t){e.isSubmitted=!1;var a=t.payload,i=e.items.find((function(e){return e.id===t.payload.id}));i?(e.totalPrice=e.totalPrice-i.quantity*i.price,e.totalQuantity=e.totalQuantity-i.quantity,i.quantity=i.quantity+a.quantity,e.totalPrice=e.totalPrice+i.quantity*i.price,e.totalQuantity=e.totalQuantity+i.quantity):(e.items.push({id:a.id,title:a.title,description:a.description,price:a.price,quantity:a.quantity}),e.totalPrice=e.totalPrice+a.price*a.quantity,e.totalQuantity=e.totalQuantity+a.quantity)},removeItemFromCart:function(e,t){var a=t.payload,i=e.items.find((function(e){return e.id===a}));if(e.totalQuantity>1?e.totalQuantity--:e.totalQuantity=0,1===i.quantity){e.totalPrice=Math.abs(e.totalPrice-i.price);var n=e.items.filter((function(e){return e.id!==a}));e.items=n}else i.quantity--,e.totalPrice=Math.abs(e.totalPrice-i.price)},submitCart:function(e,t){e.isSubmitted=t.payload}}}),r=n.actions;t.b=n},,function(e,t,a){e.exports={"cart-items":"Cart_cart-items__2pjQw","cart-summary":"Cart_cart-summary__1jSig",total:"Cart_total__3pLin","total-amount":"Cart_total-amount__2xBQT","summary-actions":"Cart_summary-actions__3B8aV","msg-empty":"Cart_msg-empty__181Ws"}},function(e,t,a){e.exports={"cart-item":"CartItem_cart-item__1B1_q","cart-info":"CartItem_cart-info__12h9O",price:"CartItem_price__2Nl0j","cart-actions":"CartItem_cart-actions__rD-Lb","btn-plus":"CartItem_btn-plus__2TgQN","btn-minus":"CartItem_btn-minus__2M71Y",bump:"CartItem_bump__2r-xS"}},,function(e,t,a){e.exports={"dish-card":"PopularDish_dish-card__3pB4l",info:"PopularDish_info__1aMEa",title:"PopularDish_title__2ZNUR",price:"PopularDish_price__2kjTO"}},function(e,t,a){e.exports={navigation:"Header_navigation__uyTGb","header-logo":"Header_header-logo__2H-j0","cart-link":"Header_cart-link__1HMnd",badge:"Header_badge__2--7T"}},,,function(e,t,a){e.exports={footer:"Footer_footer__1Zc6l","footer-other":"Footer_footer-other__1wkZo","footer-info":"Footer_footer-info__24a-c","footer-social":"Footer_footer-social__3paM1",fab:"Footer_fab__1f9Dt"}},function(e,t,a){e.exports={"popular-section":"PopularDishes_popular-section__223Em","poular-header":"PopularDishes_poular-header__59EZW","poular-container":"PopularDishes_poular-container__32vXk","popular-actions":"PopularDishes_popular-actions__3wZti","dish-card":"PopularDishes_dish-card__2kABe",info:"PopularDishes_info__2hcTy"}},,,function(e,t,a){e.exports={"banner-section":"BannerHome_banner-section__2PknV","banner-home":"BannerHome_banner-home__1cYTV","banner-home-text":"BannerHome_banner-home-text__RNV6w"}},function(e,t,a){e.exports={"newsletter-section":"Newsletter_newsletter-section__2R2au","newsletter-container":"Newsletter_newsletter-container__1-1pu","newsletter-control":"Newsletter_newsletter-control__LA8Jt"}},,,,,,function(e,t,a){e.exports={"bi-bag":"HeaderCartButton_bi-bag__ZtRuD"}},function(e,t,a){e.exports={"bi-house":"HeaderHomeButton_bi-house__2WXSn"}},function(e,t,a){"use strict";var i=a(35),n=a.n(i),r=a(0);t.a=function(e){return Object(r.jsx)("div",{className:"".concat(e.className," ").concat(n.a.notification),children:Object(r.jsx)("div",{children:e.msg})})}},function(e,t,a){e.exports={main:"Layout_main__1dFZc"}},function(e,t,a){e.exports={notification:"Notification_notification__3D5S5"}},function(e,t,a){e.exports={card:"Card_card__1m44e"}},function(e,t,a){e.exports={modal:"ModalOverlay_modal__VQm5y",reveal:"ModalOverlay_reveal__3EORe"}},function(e,t,a){e.exports={overlay:"Overlay_overlay__3Ybmj"}},,,,,,,,function(e,t,a){},,,,,function(e,t,a){"use strict";a.r(t);var i=a(12),n=a.n(i),r=a(8),c=a(4),s=a(10),o=a(11),l=Object(s.b)({name:"ui",initialState:{isCartShown:!1},reducers:{showCart:function(e){e.isCartShown=!0},hideCart:function(e){e.isCartShown=!1}}}),u=l.actions,d=l,j=a.p+"static/media/dish-1.7414339b.png",h=a.p+"static/media/dish-2.6bff8f1c.png",b=a.p+"static/media/dish-3.1b5f3be8.png",m=Object(s.b)({name:"menu",initialState:{items:[{id:"m1",title:"Grilled lobster with Thai herbs",description:"lobster, lemongrass, baby spinach, peas, coconut milk, mint, coriander, garlic.",shortDescription:"lobster, lemongrass...",price:36.99,isPopular:!1,image:null},{id:"m2",title:"Slow cooker chicken Pho",description:"chicken, ginger, Thai fish sauce, fresh red chilli peppers, broccoli, carrot, garlic, rice noodles",shortDescription:"chicken, ginger, Thai fish sauce...",price:32.99,isPopular:!0,image:j},{id:"m3",title:"Steamed ginger fish",description:"cod, basil leaves, parsley, ginger, sesame oil, eggs, spring onions, curry, jasmine rice",shortDescription:"cod, basil leaves, parsley...",price:30.99,isPopular:!1,image:null},{id:"m4",title:"Goat cheese quenelles",description:"fresh peas, pea shoots, radishes, mint leaves, orange juice",shortDescription:"fresh peas, pea shoots...",price:28.99,isPopular:!1,image:null},{id:"m5",title:"Halloumi salad",description:"harissa paste, lemon, vine tomatoes, cider vinegar, Greek-style yoghurt, rocket leaves",shortDescription:"harissa paste, lemon, vine tomatoes...",price:25.99,isPopular:!1,image:null},{id:"m6",title:"Tomato soup with seeds",description:"ripe tomatoes, carrot, miso, toasted pumpkin and sesame seeds, low-fat yoghurt",shortDescription:"ripe tomatoes, carrot, miso...",price:20.99,isPopular:!0,image:h},{id:"m7",title:"Roasted mushroom salad",description:"cremini mushrooms, cherry tomatoes, lemon, garlic, parsley, basil, rocket salad",shortDescription:"cherry tomatoes, lemon...",price:22.99,isPopular:!0,image:b},{id:"m8",title:"Avocado rice bowl",description:"brown rice, ripe avocado, radishes, apple cider vinegar, fresh coriander, lemon",shortDescription:"brown rice, ripe avocado, radishes...",price:18.99,isPopular:!1,image:null}],reducers:{}}}),p=Object(s.a)({reducer:{cart:o.b.reducer,ui:d.reducer,menu:m.reducer}}),f=(a(46),a(19)),O=a.n(f),x=a(28),_=a(1),v=a.n(_),g=a(3),y=a(34),w=a.n(y),N=a(0),C=function(e){return Object(N.jsx)(_.Fragment,{children:Object(N.jsx)("main",{className:w.a.main,children:e.children})})},P=a(20),k=a.n(P),S=a.p+"static/media/logo.23533a76.png",D=function(){return Object(N.jsxs)("footer",{className:k.a.footer,children:[Object(N.jsxs)("div",{className:k.a["footer-info"],children:[Object(N.jsx)("div",{className:k.a["footer-logo"],children:Object(N.jsx)("img",{src:S,alt:"logo",className:"logo"})}),Object(N.jsx)("p",{children:"Espelundsveien 130"}),Object(N.jsx)("p",{children:"Kristiansand 4630 Norway"}),Object(N.jsx)("p",{children:"+47 951 97 489"})]}),Object(N.jsxs)("div",{className:k.a["footer-other"],children:[Object(N.jsxs)("ul",{children:[Object(N.jsx)("li",{children:Object(N.jsx)("strong",{children:"Information"})}),Object(N.jsx)("li",{children:"About Us"}),Object(N.jsx)("li",{children:"Search"}),Object(N.jsx)("li",{children:"Testimonials"})]}),Object(N.jsxs)("ul",{children:[Object(N.jsx)("li",{children:Object(N.jsx)("strong",{children:"Policy"})}),Object(N.jsx)("li",{children:"Service"}),Object(N.jsx)("li",{children:"Privacy"}),Object(N.jsx)("li",{children:"Conditions"})]}),Object(N.jsxs)("ul",{children:[Object(N.jsx)("li",{children:Object(N.jsx)("strong",{children:"Clients"})}),Object(N.jsx)("li",{children:"Events"}),Object(N.jsx)("li",{children:"Memebership"}),Object(N.jsx)("li",{children:"Offer"})]})]})]})},q=a(24),T=a.n(q),Q=function(){return Object(N.jsx)("section",{className:T.a["banner-section"],children:Object(N.jsx)("div",{className:T.a["banner-home"],children:Object(N.jsxs)("div",{className:T.a["banner-home-text"],children:[Object(N.jsxs)("h2",{children:["Healthy food",Object(N.jsx)("br",{}),"for healthier future"]}),Object(N.jsx)("p",{children:"All our meals are created with the highest quality ingredients and are freshly prepared by chefs, with no preservatives."}),Object(N.jsx)(r.b,{to:"/menu",children:Object(N.jsx)("button",{className:"btn-banner",children:"Get started"})})]})})})},H=a(21),B=a.n(H),E=a(16),F=a.n(E),I=function(e){return Object(N.jsxs)("div",{className:F.a["dish-card"],children:[Object(N.jsx)("img",{src:e.image,alt:"dish"}),Object(N.jsxs)("div",{className:F.a.info,children:[Object(N.jsxs)("div",{className:"info-header",children:[Object(N.jsx)("h4",{className:F.a.title,children:e.title}),Object(N.jsx)("p",{className:F.a.description,children:e.shortDescription})]}),Object(N.jsxs)("p",{className:F.a.price,children:["$",e.price]})]})]})},M=function(){var e=Object(c.c)((function(e){return e.menu.items})).filter((function(e){return!0===e.isPopular}));return Object(N.jsxs)("section",{className:B.a["popular-section"],children:[Object(N.jsxs)("div",{className:B.a["poular-header"],children:[Object(N.jsx)("h3",{children:"Popular dishes"}),Object(N.jsx)("p",{children:"Always made with premium ingredients"})]}),Object(N.jsx)("div",{className:B.a["poular-container"],children:e.map((function(e){return Object(N.jsx)(I,{title:e.title,shortDescription:e.shortDescription,price:e.price,image:e.image},e.id)}))}),Object(N.jsx)("div",{className:B.a["popular-actions"],children:Object(N.jsx)(r.b,{to:"/menu",children:Object(N.jsx)("button",{type:"button",className:"btn-section",children:"Learn more"})})})]})},V=a(22),z=a(25),R=a.n(z),A=a(33),L=function(){var e=Object(_.useRef)(),t=Object(_.useState)(""),a=Object(V.a)(t,2),i=a[0],n=a[1],r=Object(_.useState)(!1),c=Object(V.a)(r,2),s=c[0],o=c[1],l=Object(_.useState)(!1),u=Object(V.a)(l,2),d=u[0],j=u[1];Object(_.useEffect)((function(){if(s){j(!0);var e=setTimeout((function(){j(!1),o(!1)}),4e3);return function(){clearTimeout(e)}}}),[s]);var h=d?"":"hidden";return Object(N.jsxs)(_.Fragment,{children:[Object(N.jsx)(A.a,{msg:i,className:h}),Object(N.jsx)("section",{className:R.a["newsletter-section"],children:Object(N.jsxs)("div",{className:R.a["newsletter-container"],children:[Object(N.jsxs)("h4",{children:["Join as a new member",Object(N.jsx)("br",{}),"and get discount up to 50%"]}),Object(N.jsx)("form",{onSubmit:function(t){var a;t.preventDefault(),o(!0),(a=e.current.value,/^[\w-\\.]+@([\w-]+\.)+[\w-]{2,4}/g.test(a))?(e.current.value="",n(Object(N.jsxs)("p",{children:[Object(N.jsx)("span",{children:"Thank you for your subscription!"})," You will receive the confirmation email shortly."]}))):n(Object(N.jsxs)("p",{children:["Please enter a ",Object(N.jsx)("span",{children:"valid"})," email address."]}))},children:Object(N.jsxs)("div",{className:R.a["newsletter-control"],children:[Object(N.jsx)("input",{placeholder:"Enter your email",ref:e}),Object(N.jsx)("button",{type:"submit",className:"btn-newsletter",children:"Submit"})]})})]})})]})},Z=a(31),G=a.n(Z),J=function(e){return Object(N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"".concat(G.a.bi," ").concat(G.a["bi-bag"]),viewBox:"0 0 16 16",onClick:e.onClick,children:Object(N.jsx)("path",{d:"M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z"})})},Y=a(32),U=a.n(Y),W=function(){return Object(N.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"".concat(U.a.bi," ").concat(U.a["bi-house"]),viewBox:"0 0 15 15",children:[Object(N.jsx)("path",{fillRule:"evenodd",d:"M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"}),Object(N.jsx)("path",{fillRule:"evenodd",d:"M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"})]})},$=function(){return Object(N.jsx)("button",{className:"btn-main",children:"Our menu"})},X=a(17),K=a.n(X),ee=function(e){var t=Object(c.c)((function(e){return e.cart.totalQuantity}));return Object(N.jsx)("header",{children:Object(N.jsxs)("nav",{className:K.a.navigation,children:[Object(N.jsx)("div",{className:K.a.logo,children:Object(N.jsx)("img",{src:S,alt:"logo",className:K.a["header-logo"]})}),Object(N.jsxs)("ul",{children:[Object(N.jsx)(r.c,{to:"/",children:Object(N.jsx)(W,{})}),Object(N.jsxs)("li",{className:K.a["cart-link"],children:[Object(N.jsx)(J,{onClick:e.onClick}),Object(N.jsx)("span",{className:K.a.badge,children:t})]}),Object(N.jsx)(r.c,{to:"/menu",children:Object(N.jsx)($,{})})]})]})})},te=a(36),ae=a.n(te),ie=function(e){return Object(N.jsx)("div",{className:"".concat(e.className," ").concat(ae.a.card),children:e.children})},ne=a(37),re=a.n(ne),ce=function(e){return Object(N.jsx)(_.Fragment,{children:Object(N.jsx)("div",{className:re.a.modal,children:Object(N.jsx)(ie,{children:e.children})})})},se=a(38),oe=a.n(se),le=function(){var e=Object(c.b)();return Object(N.jsx)("div",{className:oe.a.overlay,onClick:function(){e(u.hideCart())}})},ue=function(e){var t=document.getElementById("overlays");return Object(N.jsxs)(_.Fragment,{children:[n.a.createPortal(Object(N.jsx)(le,{}),t),n.a.createPortal(Object(N.jsx)(ce,{children:e.children}),t)]})},de=a(13),je=a.n(de),he=a(14),be=a.n(he),me=function(e){var t=e.item,a=t.id,i=t.title,n=t.quantity,r=t.price,s=Object(c.b)();return Object(N.jsxs)("li",{className:be.a["cart-item"],children:[Object(N.jsxs)("div",{className:be.a["cart-info"],children:[Object(N.jsx)("h3",{children:i}),Object(N.jsxs)("span",{className:be.a.price,children:["$",r]})]}),Object(N.jsxs)("div",{className:be.a["cart-actions"],children:[Object(N.jsx)("button",{onClick:function(){s(o.a.addItemToCart({id:a,title:i,price:r,quantity:1}))},className:be.a["btn-plus"],children:"+"}),Object(N.jsx)("input",{type:"text",inputMode:"numeric",onChange:function(){},value:n}),Object(N.jsx)("button",{onClick:function(){s(o.a.removeItemFromCart(a))},className:be.a["btn-minus"],children:"\u2013"})]})]})},pe=function(e){var t=Object(c.c)((function(e){return e.cart.items})),a=Object(c.c)((function(e){return e.cart.totalPrice.toFixed(2)})),i=Object(c.b)(),n=function(){i(u.hideCart())};return Object(N.jsxs)(ue,{children:[0===t.length?Object(N.jsx)("p",{className:je.a["msg-empty"],children:"Your cart is empty."}):"",Object(N.jsx)("ul",{className:je.a["cart-items"],children:t.map((function(e){return Object(N.jsx)(me,{item:{id:e.id,title:e.title,description:e.description,quantity:e.quantity,price:e.price}},e.id)}))}),Object(N.jsxs)("div",{className:je.a["cart-summary"],children:[Object(N.jsx)("h3",{className:je.a.total,children:"Total"}),Object(N.jsxs)("h3",{className:je.a["total-amount"],children:["$",a]})]}),Object(N.jsxs)("div",{className:je.a["summary-actions"],children:[Object(N.jsx)("button",{className:"btn-outline",onClick:n,children:0===t.length?"Go back":"Cancel"}),0===t.length?"":Object(N.jsx)(r.b,{to:"/checkout",children:Object(N.jsx)("button",{className:"btn-secondary",onClick:n,children:"Order"})})]})]})},fe=v.a.lazy((function(){return a.e(3).then(a.bind(null,64))})),Oe=v.a.lazy((function(){return a.e(4).then(a.bind(null,65))})),xe=v.a.lazy((function(){return a.e(5).then(a.bind(null,63))})),_e=!0;var ve=function(){var e=Object(c.c)((function(e){return e.ui.isCartShown})),t=Object(c.c)((function(e){return e.cart})),a=Object(c.c)((function(e){return e.cart.isSubmitted})),i=Object(c.b)();return Object(_.useEffect)((function(){_e?_e=!1:function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://foodly-d9746-default-rtdb.europe-west1.firebasedatabase.app/foodlycart.json",{method:"PUT",body:JSON.stringify(t)});case 2:if(e.sent.ok){e.next=5;break}throw new Error("Cart data not found.");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().catch((function(e){console.error(e||"Something went wrong")}))}),[t]),Object(_.useEffect)((function(){(function(){var e=Object(x.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://foodly-d9746-default-rtdb.europe-west1.firebasedatabase.app/foodlycart.json");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Cart data cannot be fetched.");case 5:return e.next=7,t.json();case 7:a=e.sent,i(o.a.replaceCart(a));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch((function(e){console.error(e||"Something went wrong")}))}),[i,a]),Object(N.jsxs)(_.Fragment,{children:[Object(N.jsx)(ee,{onClick:function(){i(u.showCart())}}),e&&Object(N.jsx)(pe,{}),Object(N.jsx)(C,{children:Object(N.jsx)(_.Suspense,{fallback:Object(N.jsx)("p",{children:"Loading..."}),children:Object(N.jsxs)(g.c,{children:[Object(N.jsxs)(g.a,{path:"/",exact:!0,children:[Object(N.jsx)(Q,{}),Object(N.jsx)(M,{}),Object(N.jsx)(L,{})]}),Object(N.jsx)(g.a,{path:"/menu",children:Object(N.jsx)(fe,{})}),Object(N.jsx)(g.a,{path:"/checkout",children:Object(N.jsx)(Oe,{})}),Object(N.jsx)(g.a,{path:"*",children:Object(N.jsx)(xe,{})})]})})}),Object(N.jsx)(D,{})]})};n.a.render(Object(N.jsx)(r.a,{children:Object(N.jsx)(c.a,{store:p,children:Object(N.jsx)(ve,{})})}),document.getElementById("root"))}],[[51,1,2]]]);
//# sourceMappingURL=main.091a2e97.chunk.js.map